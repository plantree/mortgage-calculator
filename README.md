# 房贷计算器

一个基于 Next.js 构建的专业房贷计算器，支持多种贷款类型和还款方式的精确计算。

## ✨ 功能特性

### 🏠 三种贷款类型
- **商业贷款** - 支持自定义商业贷款利率（默认3.0%）
- **公积金贷款** - 支持公积金贷款优惠利率（默认2.6%）
- **组合贷款** - 同时计算商贷和公积金贷款

### 💰 两种还款方式
- **等额本息** - 每月还款金额固定
- **等额本金** - 每月本金固定，利息递减

### 🧮 提前还贷测算
- **缩短年限** - 提前还款减少贷款期限，保持月供不变
- **减少月供** - 提前还款降低月供金额，保持期限不变
- **节省统计** - 显示节省的利息金额和时间
- **灵活选择** - 可选择任意月份进行提前还贷

### 📊 数据可视化
- 月供组成趋势图（本金/利息比例）
- 剩余本金变化趋势
- 详细的月度还款计划表
- **前5年累积利息统计** - 展示1-5年累积利息及占总利息比例

### 🎯 精确计算
- 总利息计算
- 总还款金额
- 首月/末月还款金额
- 逐月本金和利息分解
- **累积利息分析** - 前1-5年各年度累积利息统计
- **提前还贷影响** - 计算提前还贷后的利息节省和期限变化

## 🛠 技术栈

- **框架**: Next.js 15 (App Router)
- **语言**: TypeScript
- **样式**: Tailwind CSS
- **组件库**: shadcn/ui
- **图表**: Recharts
- **图标**: Lucide React

## 🚀 快速开始

### 启动开发服务器

```bash
npm run dev
# 或者
yarn dev
# 或者
pnpm dev
# 或者
bun dev
```

在浏览器中打开 [http://localhost:3000](http://localhost:3000) 查看应用。

### 构建生产版本
```bash
npm run build
npm start
```

## 📁 项目结构

```
src/
├── app/
│   ├── layout.tsx          # 应用布局
│   ├── page.tsx            # 主页面
│   └── globals.css         # 全局样式
├── components/
│   ├── ui/                 # shadcn/ui 组件
│   ├── MortgageCalculator.tsx  # 主计算器组件
│   ├── PaymentChart.tsx        # 图表组件
│   ├── PaymentTable.tsx        # 表格组件
│   ├── InterestSummary.tsx     # 累积利息统计组件
│   └── EarlyRepaymentCalculator.tsx  # 提前还贷计算器组件
└── lib/
    ├── utils.ts            # 工具函数
    └── mortgage-calculator.ts  # 房贷计算逻辑（含提前还贷）
```

## 💡 使用说明

1. **选择贷款类型**: 在顶部标签页选择商业贷款、公积金贷款或组合贷款
2. **输入贷款信息**: 填写贷款金额、利率、期限等信息
3. **选择还款方式**: 选择等额本息或等额本金
4. **查看结果**: 系统会自动计算并显示：
   - 总利息和总还款金额
   - 月供金额
   - 可视化图表
   - 前5年累积利息统计
   - 详细还款计划表
5. **提前还贷测算**: 在各贷款类型下滚动到底部，可以：
   - 选择提前还贷的时间点（第几个月）
   - 输入提前还贷金额
   - 选择缩短年限或减少月供
   - 查看节省的利息和时间统计

## 📈 核心算法

### 等额本息计算公式
```
月供 = 本金 × [月利率 × (1 + 月利率)^还款月数] / [(1 + 月利率)^还款月数 - 1]
```

### 等额本金计算公式
```
每月本金 = 总本金 / 还款月数
每月利息 = 剩余本金 × 月利率
月供 = 每月本金 + 每月利息
```

### 提前还贷计算
- **缩短年限**: 计算在保持原月供不变的情况下，能缩短多少还款期限
- **减少月供**: 计算在保持原还款期限不变的情况下，能减少多少月供金额
- **节省利息**: 对比原计划和提前还贷后的总利息差额

---

**注意**: 本计算器仅供参考，实际贷款条件请以银行最终审批为准。提前还贷可能涉及违约金等费用，请咨询银行具体政策。
